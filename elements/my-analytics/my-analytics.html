<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="my-analytics">
  <style>:host{display:block;visibility:hidden;height:0;width:0}</style>
  <template>
  </template>
</dom-module>

<script>!function(){"use strict";Polymer({is:"my-analytics",properties:{trackingCode:{type:String}},ready:function(){this.isogram(window,document,"script","//www.google-analytics.com/analytics.js","myGA"),myGA("create",this.trackingCode,"auto"),window.addEventListener("stampy-navigation",this.navigationOccured.bind(this))},navigationOccured:function(e){var t=e.detail,n=t.canonicalPath,i=t.title;this.sendPageview("/#!"+n,i)},sendPageview:function(e,t){myGA("set",{page:e,title:t}),myGA("send","pageview"),console.log("Page view sent.")},isogram:function(e,t,n,i,a,s,o){e.GoogleAnalyticsObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,s=t.createElement(n),o=t.getElementsByTagName(n)[0],s.async=1,s.src=i,o.parentNode.insertBefore(s,o)}})}();</script>
