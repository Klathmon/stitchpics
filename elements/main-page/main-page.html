<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower_components/paper-slider/paper-slider.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../my-paper-material/my-paper-material.html">
<link rel="import" href="../paper-file-upload/paper-file-upload.html">
<link rel="import" href="../palette-viewer/palette-viewer.html">
<link rel="import" href="../cross-stitch/cross-stitch.html">
<link rel="import" href="../imgur-upload/imgur-upload.html">
<link rel="import" href="../side-menu/side-menu.html">
<link rel="import" href="../my-ad/my-ad.html">

<dom-module id="main-page">
  <style>:host{font-family:Roboto,Noto,sans-serif;display:block;--paper-slider-active-color:#9EBCE3;--paper-slider-knob-color:#9EBCE3;--paper-slider-pin-color:#9EBCE3;--paper-checkbox-checked-ink-color:#9EBCE3;--paper-checkbox-checked-color:#9EBCE3;--paper-checkbox-unchecked-background-color:white}paper-slider{width:100%}paper-button{background-color:#89D2DC;color:#fff}.indent{margin-left:25px;margin-right:25px}@media (max-width:500px){.indent{margin-left:0;margin-right:0}}.bottomRow{overflow:hidden;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.bottomRow paper-checkbox,.bottomRow paper-file-upload{display:block;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-basis:190px;-ms-flex-preferred-size:190px;flex-basis:190px;margin-top:10px}#mainPageContainer my-paper-material{--my-paper-material-background-color:#FAFAFA}#mainPageContainer:after{content:"";display:table;clear:both}@media (min-width:1200px){#mainPageContainer>div:not(#introBox){width:50%}#mainPageContainer #saveBox,#mainPageContainer #setupBox{float:left}#mainPageContainer #crossStitchBox{float:right}}#introBox{border-bottom:#CCC 1px solid}#saveBox .flexContainer{overflow:hidden;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}#saveBox .flexContainer paper-button{display:block;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-basis:160px;-ms-flex-preferred-size:160px;flex-basis:160px;margin-top:10px}</style>
  <template>
    <my-paper-material elevation="5">
      <div id="mainPageContainer">
        <div id="introBox">
          <p>
            Stitchpics is your best way to turn any picture into a crossstitch pattern. No more
            tracing or drawing pictures by hand, in less than an minute you can have a picture
            ready for cross stitching.
          </p>
          <p>
            Simply choose any picture to upload, choose the Aida cloth count, the cross stitch
            size and number of colors and you&apos;re on your way to creating an amazing cross stitch
            for friends, family or even as an adornment for your home.
          </p>
        </div>

        <div id="setupBox">
          <h3>Setup</h3>
          <my-paper-material elevation="1" class="indent">
            <div>Aida cloth count</div>
            <paper-slider min="8" max="28" value="{{clothCount}}" snaps="" pin="" editable=""></paper-slider>
            <div>Cross Stitch Size (in inches)</div>
            <paper-slider min="2" max="16" value="{{size}}" snaps="" pin="" editable=""></paper-slider>
            <div>Number of colors</div>
            <paper-slider min="4" max="32" value="{{numColors}}" snaps="" pin="" editable=""></paper-slider>
            <div class="bottomRow">
              <paper-checkbox checked="{{useDmcColors}}">Only use DMC colors</paper-checkbox>
              <paper-checkbox checked="{{hideTheGrid}}">Hide the grid</paper-checkbox>
            <paper-checkbox checked="{{highQualityMode}}">High quality mode (Beta)</paper-checkbox>
              <paper-file-upload id="imageUpload" imagedata="{{imageData}}"></paper-file-upload>
            </div>
          </my-paper-material>
        </div>

        <div id="crossStitchBox">
          <h3>Cross Stitch</h3>
          <my-paper-material elevation="1" class="indent">
            <cross-stitch id="crossStitchElement" gridwidth="{{gridWidth}}" numcolors="{{numColors}}" imagedata="{{imageData}}" usedmccolors="{{useDmcColors}}" hidethegrid="{{hideTheGrid}}" highqualitymode="{{highQualityMode}}" palette="{{palette}}">
            </cross-stitch>
          </my-paper-material>
          <h3>Color Key</h3>
          <my-paper-material elevation="1" class="indent">
            <palette-viewer id="imagePalette" palette="[[palette]]" usedmccolors="{{useDmcColors}}">
            </palette-viewer>
          </my-paper-material>
        </div>

        <div id="saveBox">
          <h3>Save</h3>
          <my-paper-material elevation="1" class="indent">
            <div class="flexContainer">
              <paper-button id="saveButton" raised="" on-tap="saveImage">Save As Image</paper-button>
              <paper-button id="newTabButton" raised="" on-tap="openNewTab">Open In New Tab</paper-button>
              <paper-button id="printButton" raised="" on-tap="printImage">Print</paper-button>
              <!--<imgur-upload imagedata="{{imageData}}"></imgur-upload>-->
            </div>
          </my-paper-material>

          <my-ad client="ca-pub-8694540020289271" slot="4087460740">
          </my-ad>
        </div>

      </div>
    </my-paper-material>
  </template>
</dom-module>

<script src="element.js"></script>
