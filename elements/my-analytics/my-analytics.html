<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="my-analytics">
  <style>:host{display:block;visibility:hidden;height:0;width:0}</style>
  <template>
  </template>
</dom-module>

<script>!function(){"use strict";Polymer({is:"my-analytics",properties:{trackingCode:{type:String}},created:function(){this.isogram(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",this.trackingCode,"auto"),window.addEventListener("stampy-navigation",this.navigationOccured.bind(this))},navigationOccured:function(e){var t=e.detail,n=t.canonicalPath,a=t.title;this.sendPageview(n,a)},sendPageview:function(e,t){ga("set",{page:e,title:t}),ga("send","pageview"),console.log("Page view sent.")},isogram:function(e,t,n,a,i,s,o){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,s=t.createElement(n),o=t.getElementsByTagName(n)[0],s.async=1,s.src=a,o.parentNode.insertBefore(s,o)}})}();</script>
